{"version":3,"sources":["src/app/sign/sign.component.html","src/app/services/auth-parol.service.ts","src/app/sign/sign.component.scss","src/app/sign/sign.component.ts","src/app/sign/sign.module.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar mode='md' color=\\\"primary\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button></ion-back-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n<ion-content *ngIf='userEmail == \\\"guest\\\"'>\\n  <div class=\\\"container\\\">\\n    <ion-text *ngIf='createAcc'>Create account</ion-text>\\n    <form [formGroup]='signForm'>\\n      <ion-item>\\n        <ion-label position=\\\"floating\\\" color=\\\"secondary\\\">Email</ion-label>\\n        <ion-input type=\\\"email\\\" formControlName=\\\"email\\\"></ion-input>\\n      </ion-item>\\n      <ion-item>\\n        <ion-label position=\\\"floating\\\" color=\\\"secondary\\\">Password</ion-label>\\n        <ion-input type=\\\"password\\\" formControlName=\\\"password\\\"></ion-input>\\n      </ion-item>\\n      <ion-item lines='none'>\\n        <ion-button class='sign-button' (click)='onSubmit()' size='default' slot='end' [disabled]='!signForm.valid'>Sign\\n          in</ion-button>\\n      </ion-item>\\n    </form>\\n\\n\\n    <ion-item lines='none' class='create-account'>\\n\\n      <div>\\n        <ng-container *ngIf='!createAcc'>\\n          <span>\\n            New to shopping ?\\n          </span>\\n          <ion-button color='success' (click)='createAcc = true'>Create account</ion-button>\\n        </ng-container>\\n        <ng-container *ngIf='createAcc'>\\n          <span>\\n            Have account ?\\n          </span>\\n          <ion-button color='success' (click)='createAcc = false'>Sign in</ion-button>\\n        </ng-container>\\n      </div>\\n    </ion-item>\\n\\n  </div>\\n</ion-content>\\n<ion-content *ngIf='userEmail != \\\"guest\\\"'>\\n  <div class=\\\"container\\\">\\n    <span>\\n      You are logged in as {{userEmail}}\\n    </span>\\n    <ion-item lines='none'>\\n      <ion-button class='sign-button' (click)='signOut()' size='default' slot='end'>Sign out</ion-button>\\n    </ion-item>\\n  </div>\\n</ion-content>\"","import { Injectable } from '@angular/core';\nimport { Router } from '@angular/router';\n\nimport { AngularFireAuth } from 'angularfire2/auth';\nimport * as firebase from 'firebase/app';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthWhithParolService {\n\n  constructor(\n    public afAuth: AngularFireAuth,\n    public router: Router\n  ) { }\n\n\n//регистрация\n  SignUp(email, password): Promise<any> {\n    return new Promise<any>((resolve, reject) => {\n      firebase.auth().createUserWithEmailAndPassword(email, password)\n      .then(res => {\n        resolve(res);\n      }, err => reject(err))\n    })\n  }\n\n  //вход\n  SignIn(email, password): Promise<any> {\n    return new Promise<any>((resolve, reject) => {\n      this.afAuth.auth.signInWithEmailAndPassword(email, password)\n      .then(res => {\n        resolve(res);\n      }, err => reject(err))\n    })\n  }\n\n   signOut():void {\n    this.afAuth.auth.signOut().then(function() {\n      console.log('signOut')\n    }).catch(function(error) {\n      console.log(error)\n    });\n    // return this.router.navigate(['/']);\n  }\n  \n\n}\n","export default \".container {\\n  max-width: 90%;\\n  margin: auto;\\n}\\n\\n.sign-button {\\n  margin-top: 30px;\\n}\\n\\nion-content {\\n  --padding-top: 30px ;\\n}\\n\\n.create-account {\\n  margin-top: 50px;\\n  font-size: 14px;\\n}\\n\\n.create-account div {\\n  width: 100%;\\n  text-align: center;\\n  line-height: 27px;\\n}\\n\\n.create-account span {\\n  vertical-align: sub;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvc2lnbi9FOlxcaW9uaWNcXHNob3BwaW5nL3NyY1xcYXBwXFxzaWduXFxzaWduLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9zaWduL3NpZ24uY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxjQUFBO0VBQ0EsWUFBQTtBQ0NKOztBRENBO0VBQ0ksZ0JBQUE7QUNFSjs7QURBQTtFQUNJLG9CQUFBO0FDR0o7O0FEQUE7RUFDSSxnQkFBQTtFQUNBLGVBQUE7QUNHSjs7QUREQTtFQUNJLFdBQUE7RUFDQSxrQkFBQTtFQUNBLGlCQUFBO0FDSUo7O0FERkE7RUFDSSxtQkFBQTtBQ0tKIiwiZmlsZSI6InNyYy9hcHAvc2lnbi9zaWduLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmNvbnRhaW5lciB7XHJcbiAgICBtYXgtd2lkdGg6IDkwJTtcclxuICAgIG1hcmdpbjogYXV0bztcclxufVxyXG4uc2lnbi1idXR0b24ge1xyXG4gICAgbWFyZ2luLXRvcDogMzBweDtcclxufVxyXG5pb24tY29udGVudHtcclxuICAgIC0tcGFkZGluZy10b3A6IDMwcHhcclxufVxyXG5cclxuLmNyZWF0ZS1hY2NvdW50IHtcclxuICAgIG1hcmdpbi10b3A6IDUwcHg7XHJcbiAgICBmb250LXNpemU6IDE0cHg7XHJcbn1cclxuLmNyZWF0ZS1hY2NvdW50IGRpdiB7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgIGxpbmUtaGVpZ2h0OiAyN3B4O1xyXG59XHJcbi5jcmVhdGUtYWNjb3VudCBzcGFuIHtcclxuICAgIHZlcnRpY2FsLWFsaWduOiBzdWI7XHJcbn0iLCIuY29udGFpbmVyIHtcbiAgbWF4LXdpZHRoOiA5MCU7XG4gIG1hcmdpbjogYXV0bztcbn1cblxuLnNpZ24tYnV0dG9uIHtcbiAgbWFyZ2luLXRvcDogMzBweDtcbn1cblxuaW9uLWNvbnRlbnQge1xuICAtLXBhZGRpbmctdG9wOiAzMHB4IDtcbn1cblxuLmNyZWF0ZS1hY2NvdW50IHtcbiAgbWFyZ2luLXRvcDogNTBweDtcbiAgZm9udC1zaXplOiAxNHB4O1xufVxuXG4uY3JlYXRlLWFjY291bnQgZGl2IHtcbiAgd2lkdGg6IDEwMCU7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgbGluZS1oZWlnaHQ6IDI3cHg7XG59XG5cbi5jcmVhdGUtYWNjb3VudCBzcGFuIHtcbiAgdmVydGljYWwtYWxpZ246IHN1Yjtcbn0iXX0= */\"","import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, Validators } from '@angular/forms';\nimport { AuthWhithParolService } from '../services/auth-parol.service';\nimport { UserDataService } from '../services/user-data.service';\nimport { filter } from 'rxjs/operators';\nimport { ToastController } from '@ionic/angular';\n\n@Component({\n  selector: 'app-sign',\n  templateUrl: './sign.component.html',\n  styleUrls: ['./sign.component.scss'],\n})\nexport class SignComponent implements OnInit {\n\n  signForm: any\n  userEmail: string = 'guest'\n  createAcc: boolean = false\n\n  constructor(\n    private fb: FormBuilder,\n    private authService: AuthWhithParolService,\n    private userData: UserDataService,\n    private toastController: ToastController,\n  ) {\n\n    this.signForm = this.fb.group({\n      email: ['', [Validators.email, Validators.required]],\n      password: ['', [Validators.minLength(6), Validators.required]]\n    })\n  }\n\n  ngOnInit() {\n    this.userData.subject.pipe(\n      filter(e => e != null),\n      filter(e => e['email'] != null),\n    ).subscribe(\n      e => this.userEmail = e.email\n    )\n  }\n\n  onSubmit(): void {\n    this.createAcc ? this.createAccount() : this.signIn()\n\n  }\n\n  signIn(): void {\n    this.authService.SignIn(this.email.value, this.password.value)\n      .then(\n        res => {\n        },\n        err => alert(err.message)\n      )\n  }\n\n  createAccount(): void {\n    this.authService.SignUp(this.email.value, this.password.value)\n      .then(\n        res => {\n          this.presentToast(`You registered as ${this.email.value}`)\n        },\n        err => alert(err.message)\n      )\n  }\n\n  signOut(): void {\n    this.authService.signOut()\n    this.userData.signOut()\n    this.userEmail = 'guest'\n  }\n\n  async presentToast(message) {\n    const toast = await this.toastController.create({\n      message: message,\n      position: 'top',\n      duration: 2000,\n      color: 'dark'\n    });\n    toast.present();\n  }\n\n\n\n  get email() { return this.signForm.get('email'); }\n  get password() { return this.signForm.get('password'); }\n}\n","import { IonicModule } from '@ionic/angular';\nimport { RouterModule } from '@angular/router';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { SignComponent } from './sign.component';\n\n\n@NgModule({\n  imports: [\n    IonicModule,\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    RouterModule.forChild([{ path: '', component: SignComponent }])\n  ],\n  declarations: [SignComponent]\n})\nexport class SignModule {}\n"],"sourceRoot":"webpack:///","file":"sign-sign-module-es5.js"}