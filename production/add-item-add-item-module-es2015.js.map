{"version":3,"sources":["./src/app/admin/add-item/add-item.page.html","./src/app/admin/file-upload/file-upload.component.html","./src/app/admin/add-item/add-item-routing.module.ts","./src/app/admin/add-item/add-item.module.ts","./src/app/admin/add-item/add-item.page.scss","./src/app/admin/add-item/add-item.page.ts","./src/app/admin/file-upload/file-upload.component.scss","./src/app/admin/file-upload/file-upload.component.ts"],"names":[],"mappings":"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","file":"add-item-add-item-module-es2015.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar mode='md' color=\\\"primary\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>Add item</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n\\n  <ion-list lines=\\\"full\\\" class=\\\"form\\\">\\n    <form [formGroup]=\\\"form\\\" (ngSubmit)=\\\"submit()\\\">\\n      <ion-item>\\n        <ion-label position=\\\"floating\\\">Name<ion-text color=\\\"danger\\\">*</ion-text>\\n        </ion-label>\\n        <ion-input type=\\\"text\\\" formControlName=\\\"name\\\"></ion-input>\\n      </ion-item>\\n      <span class='error' *ngIf=\\\"name.errors?.required && (form.touched || form.dirty)\\\">\\n        Enter name\\n      </span>\\n\\n      <ion-item>\\n        <ion-label position=\\\"floating\\\">Price<ion-text color=\\\"danger\\\">*</ion-text>\\n        </ion-label>\\n        <ion-input type=\\\"text\\\" formControlName=\\\"price\\\"></ion-input>\\n      </ion-item>\\n      <span class='error' *ngIf=\\\"price.errors?.required && (form.touched || form.dirty)\\\">\\n        Enter price\\n      </span>\\n      <span class='error' *ngIf=\\\"price.errors?.pattern && (form.touched || form.dirty)\\\">\\n        Price must be a number\\n      </span>\\n\\n      <ion-item>\\n        <ion-label position=\\\"floating\\\">Description<ion-text color=\\\"danger\\\">*</ion-text>\\n        </ion-label>\\n        <ion-textarea formControlName=\\\"description\\\"></ion-textarea>\\n      </ion-item>\\n      <span class='error' *ngIf=\\\"description.errors?.required && (form.touched || form.dirty)\\\">\\n        Enter description\\n      </span>\\n\\n      <app-file-upload formControlName=\\\"image\\\"></app-file-upload>\\n      <div *ngIf=\\\"image.errors && (form.touched || form.dirty)\\\">\\n        <span class='error' *ngIf=\\\"image.errors?.required \\\">\\n          Choose image\\n        </span>\\n        <span class='error' *ngIf=\\\"image.errors?.requiredFileType \\\">\\n          Image format can be PNG JPG or WEBP\\n        </span>\\n      </div>\\n\\n      <ion-item lines='none'>\\n        <ion-button class='submit-button' [color]=\\\"form.valid ? 'success' : 'dark'\\\" size=\\\"default\\\" ion-button\\n          type=\\\"submit\\\" slot='end' [disabled]='!form.valid'>Add item\\n        </ion-button>\\n\\n      </ion-item>\\n\\n\\n\\n\\n\\n    </form>\\n  </ion-list>\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n</ion-content>\"","export default \"<div>\\n  <label id='input-button'>\\n    Add image\\n    <input type=\\\"file\\\" class=\\\"file-input\\\" id='inp'>\\n  </label>\\n  <label for=\\\"inp\\\">\\n    {{file ? file.name : 'choose file' }}\\n  </label>\\n</div>\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { AddItemPage } from './add-item.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: AddItemPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class AddItemPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { AddItemPageRoutingModule } from './add-item-routing.module';\n\nimport { AddItemPage } from './add-item.page';\nimport { FileUploadComponent } from '../file-upload/file-upload.component';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    AddItemPageRoutingModule,\n    FormsModule,\n    ReactiveFormsModule ,\n  ],\n  declarations: [AddItemPage, FileUploadComponent]\n})\nexport class AddItemPageModule {}\n","export default \".form {\\n  width: 95vw;\\n  margin: auto;\\n}\\n\\n.submit-button {\\n  margin-top: 30px;\\n}\\n\\n.error {\\n  position: absolute;\\n  margin-top: 5px;\\n  color: #f44336;\\n  font-size: 75%;\\n  z-index: 2;\\n}\\n\\nion-item:not(:first-of-type) {\\n  margin-top: 15px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvYWRtaW4vYWRkLWl0ZW0vRTpcXGlvbmljXFxzaG9wcGluZy9zcmNcXGFwcFxcYWRtaW5cXGFkZC1pdGVtXFxhZGQtaXRlbS5wYWdlLnNjc3MiLCJzcmMvYXBwL2FkbWluL2FkZC1pdGVtL2FkZC1pdGVtLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLFdBQUE7RUFDQSxZQUFBO0FDQ0o7O0FEQ0E7RUFDSSxnQkFBQTtBQ0VKOztBREFBO0VBQ0ksa0JBQUE7RUFDQSxlQUFBO0VBQ0EsY0FBQTtFQUNBLGNBQUE7RUFDQSxVQUFBO0FDR0o7O0FEREE7RUFDSSxnQkFBQTtBQ0lKIiwiZmlsZSI6InNyYy9hcHAvYWRtaW4vYWRkLWl0ZW0vYWRkLWl0ZW0ucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmZvcm0ge1xyXG4gICAgd2lkdGg6IDk1dnc7XHJcbiAgICBtYXJnaW46IGF1dG87XHJcbn1cclxuLnN1Ym1pdC1idXR0b24ge1xyXG4gICAgbWFyZ2luLXRvcDogMzBweDtcclxufVxyXG4uZXJyb3Ige1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgbWFyZ2luLXRvcDogNXB4O1xyXG4gICAgY29sb3I6I2Y0NDMzNjtcclxuICAgIGZvbnQtc2l6ZTogNzUlO1xyXG4gICAgei1pbmRleDogMjtcclxufVxyXG5pb24taXRlbTpub3QoOmZpcnN0LW9mLXR5cGUpIHtcclxuICAgIG1hcmdpbi10b3A6IDE1cHg7XHJcbn0iLCIuZm9ybSB7XG4gIHdpZHRoOiA5NXZ3O1xuICBtYXJnaW46IGF1dG87XG59XG5cbi5zdWJtaXQtYnV0dG9uIHtcbiAgbWFyZ2luLXRvcDogMzBweDtcbn1cblxuLmVycm9yIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBtYXJnaW4tdG9wOiA1cHg7XG4gIGNvbG9yOiAjZjQ0MzM2O1xuICBmb250LXNpemU6IDc1JTtcbiAgei1pbmRleDogMjtcbn1cblxuaW9uLWl0ZW06bm90KDpmaXJzdC1vZi10eXBlKSB7XG4gIG1hcmdpbi10b3A6IDE1cHg7XG59Il19 */\"","import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, Validators } from '@angular/forms';\nimport { requiredFileType } from '../file-upload/file-upload.component';\nimport { AngularFirestore } from '@angular/fire/firestore';\nimport { AngularFireStorage } from '@angular/fire/storage';\nimport { ToastController } from '@ionic/angular';\n\n@Component({\n  selector: 'app-add-item',\n  templateUrl: './add-item.page.html',\n  styleUrls: ['./add-item.page.scss'],\n})\nexport class AddItemPage {\n\n  form:any\n\n  constructor(\n    private fb: FormBuilder,\n    private firestore: AngularFirestore,\n    private afStorage: AngularFireStorage,\n    private toastController: ToastController,\n  ) {\n    this.form = this.fb.group({\n      name: [null, Validators.required],\n      price: [null, [Validators.pattern('^[0-9]+$'), Validators.required]],\n      description: [null, Validators.required],\n      image: [null, [Validators.required, requiredFileType({ png: true, jpg: true, webp: true })]]\n\n    })\n    \n  }\n\n\n  get name() {\n    return this.form.get('name')\n  }\n  get price() {\n    return this.form.get('price')\n  }\n  get description() {\n    return this.form.get('description')\n  }\n  get image() {\n    return this.form.get('image')\n  }\n\n\n  submit() {\n    let id = Math.random().toString(36).substring(2)\n    let data = {\n      name: this.name.value,\n      id: id,\n      description: this.description.value,\n      price: +this.price.value,\n      img: id,\n    };\n    this.uniqueName(this.name.value).then(e => {\n      if (e.exists) {\n        alert('Name is exist') \n      } else {\n        this.firestore.collection('products').doc(this.name.value)\n        .set(data).then(e => {\n          this.afStorage.upload(`/images/${id}`, this.image.value).catch(e=> alert('error load image' + e))\n          this.presentToast(`${data.name} added`)\n          this.form.reset()\n        }).catch(e=> alert('error ' + e))\n      }\n     \n    })\n  }\n\n  async presentToast(message) {\n    const toast = await this.toastController.create({\n      message: message,\n      position: 'top',\n      duration: 2000,\n      color: 'dark'\n    });\n    toast.present();\n  }\n\n\n\n\n  uniqueName(name): Promise<any> {\n    return this.firestore.collection('products').ref.doc(name).get()\n  }\n\n\n}\n","export default \".file-input {\\n  display: none;\\n}\\n\\n#input-button {\\n  color: #3880ff;\\n  border: 1px solid #3880ff;\\n  border-radius: 6px;\\n  height: 2.1em;\\n  font-size: 13px;\\n  display: inline-block;\\n  text-align: center;\\n  line-height: 2.1em;\\n  width: 84px;\\n}\\n\\ndiv {\\n  margin-top: 30px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvYWRtaW4vZmlsZS11cGxvYWQvRTpcXGlvbmljXFxzaG9wcGluZy9zcmNcXGFwcFxcYWRtaW5cXGZpbGUtdXBsb2FkXFxmaWxlLXVwbG9hZC5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvYWRtaW4vZmlsZS11cGxvYWQvZmlsZS11cGxvYWQuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxhQUFBO0FDQ0o7O0FERUE7RUFDSSxjQUFBO0VBQ0EseUJBQUE7RUFDQSxrQkFBQTtFQUNBLGFBQUE7RUFDQSxlQUFBO0VBQ0EscUJBQUE7RUFDQSxrQkFBQTtFQUNBLGtCQUFBO0VBQ0EsV0FBQTtBQ0NKOztBRENBO0VBQ0ksZ0JBQUE7QUNFSiIsImZpbGUiOiJzcmMvYXBwL2FkbWluL2ZpbGUtdXBsb2FkL2ZpbGUtdXBsb2FkLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmZpbGUtaW5wdXQge1xyXG4gICAgZGlzcGxheTogbm9uZTtcclxufVxyXG5cclxuI2lucHV0LWJ1dHRvbiB7XHJcbiAgICBjb2xvcjogIzM4ODBmZjtcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkICMzODgwZmY7XHJcbiAgICBib3JkZXItcmFkaXVzOiA2cHg7XHJcbiAgICBoZWlnaHQ6IDIuMWVtO1xyXG4gICAgZm9udC1zaXplOiAxM3B4O1xyXG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgbGluZS1oZWlnaHQ6IDIuMWVtO1xyXG4gICAgd2lkdGg6IDg0cHg7XHJcbn1cclxuZGl2IHtcclxuICAgIG1hcmdpbi10b3A6IDMwcHg7XHJcbn0iLCIuZmlsZS1pbnB1dCB7XG4gIGRpc3BsYXk6IG5vbmU7XG59XG5cbiNpbnB1dC1idXR0b24ge1xuICBjb2xvcjogIzM4ODBmZjtcbiAgYm9yZGVyOiAxcHggc29saWQgIzM4ODBmZjtcbiAgYm9yZGVyLXJhZGl1czogNnB4O1xuICBoZWlnaHQ6IDIuMWVtO1xuICBmb250LXNpemU6IDEzcHg7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBsaW5lLWhlaWdodDogMi4xZW07XG4gIHdpZHRoOiA4NHB4O1xufVxuXG5kaXYge1xuICBtYXJnaW4tdG9wOiAzMHB4O1xufSJdfQ== */\"","import { Component, HostListener, ElementRef } from '@angular/core';\nimport { NG_VALUE_ACCESSOR, FormControl } from '@angular/forms';\n\n@Component({\n  selector: 'app-file-upload',\n  templateUrl: './file-upload.component.html',\n  styleUrls: ['./file-upload.component.scss'],\n  providers: [{\n    provide: NG_VALUE_ACCESSOR,\n    useExisting: FileUploadComponent,\n    multi: true\n  }]\n})\nexport class FileUploadComponent {\n\n  file: File | null = null;\n  onChange: Function;\n  @HostListener('change', ['$event.target.files']) emitFiles(event: FileList) {\n    const file = event && event.item(0);\n    this.onChange(file);\n    this.file = file;\n\n  }\n\n  constructor(private host: ElementRef<HTMLInputElement>) {\n  }\n\n   \n  writeValue(value: null) {\n    // clear file input\n    this.host.nativeElement.value = '';\n    this.file = null;\n  }\n\n  registerOnChange(fn: Function) {\n    this.onChange = fn;\n  }\n\n  registerOnTouched(fn: Function) {\n  }\n\n\n\n\n}\n\nexport function requiredFileType(type) {\n  return function (control: FormControl) {\n    const file = control.value;\n    if (file) {\n      const extension = file.name.split('.')[1].toLowerCase();\n      if (!type[extension]) {\n        return {\n          requiredFileType: true\n        };\n      }\n\n      return null;\n    }\n\n    return null;\n  };\n}\n"],"sourceRoot":"webpack:///"}